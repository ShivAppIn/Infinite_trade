"use strict";(self.webpackChunkweb_rcc_app=self.webpackChunkweb_rcc_app||[]).push([[1472],{51472:(O,c,i)=>{i.r(c),i.d(c,{CompanyListingModule:()=>L});var m=i(38583),p=i(54655),g=i(54395),h=i(70615),l=i(63563),e=i(37716),u=i(1017),y=i(91859),d=i(69763);let b=(()=>{class s extends l.t{constructor(t,n,a){super(),this._tableSer=t,this._user=n,this._common=a,this.queryObj={},this.searchValue="",this.subscripition=[],this.heading=[{heading:"COMPANY NAME",key:"companyDetail.businessName"},{heading:"EMAIL",key:"email"},{heading:"ADDRESS",key:"location.address"},{heading:"CONTACT",key:"companyDetail.officeNo"},{heading:"DATE JOINED",key:"createdAt",align:"center",type:"date"},{heading:"ACTIONS",key:"actionCompany",align:"center",type:"action",action:[2]}],this.setSearchSubscription()}ngOnInit(){this.getUserList()}setSearchSubscription(){this.subscripition.push(this._user._searchSubject.pipe((0,g.b)(500)).subscribe(t=>{this.searchValue=t,this.getUserList()}))}paginationWithSearch(t,n){switch(n){case 0:this.resetPages(),this.search=t,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=t}this.getUserList()}getUserList(){this.queryObj=Object.assign(this.searchValue.length?Object.assign(Object.assign({},this.validPageOptions),{searchKey:this.searchValue}):Object.assign({},this.validPageOptions),{userType:"COMPANY"}),this.getList()}getList(){this.subscripition.push(this._user.userList(this.queryObj).subscribe(t=>{this._tableSer.tableRender(t,"company","")},()=>{this._tableSer.tableRender({data:[]},"","")}))}sortByListing(t){this.sortOptions=t,this.getList()}ngOnDestroy(){this.subscripition.length&&this._common.unsubscribe(this.subscripition)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.L),e.Y36(y.f),e.Y36(d.v))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-company-listing"]],viewQuery:function(t,n){if(1&t&&e.Gf(h.H,5),2&t){let a;e.iGM(a=e.CRH())&&(n.tableRef=a.first)}},features:[e.qOj],decls:1,vars:1,consts:[[3,"heading","find","page","sortData"]],template:function(t,n){1&t&&(e.TgZ(0,"common-mat-table",0),e.NdJ("find",function(r){return n.paginationWithSearch(r,0)})("page",function(r){return n.paginationWithSearch(r,1)})("sortData",function(r){return n.sortByListing(r)}),e.qZA()),2&t&&e.Q6J("heading",n.heading)},directives:[h.H],styles:[""]}),s})();var C=i(2502);const f=[{path:"",component:b}];let L=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[m.ez,p.Bz.forChild(f),C.k]]}),s})()}}]);