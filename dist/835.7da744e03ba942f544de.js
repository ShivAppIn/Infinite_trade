"use strict";(self.webpackChunkweb_rcc_app=self.webpackChunkweb_rcc_app||[]).push([[835],{11863:(E,_,o)=>{o.d(_,{c:()=>c,Fs:()=>r,wJ:()=>a,_n:()=>s,x6:()=>A,jF:()=>d,UJ:()=>t,KJ:()=>u,on:()=>b,U0:()=>g,mU:()=>P,Yw:()=>T,pZ:()=>I,Z_:()=>C,R3:()=>f,Fx:()=>N,LT:()=>B,Me:()=>p,bJ:()=>D,k7:()=>v,kV:()=>w});var l=o(48396);const c=[{path:l.ABS_PROFILE,label:"Profile"}],r=[...c,{path:l.ABS_PROFILE_EDIT,label:"Edit"}],a=[...c,{path:l.ABS_PROFILE_CHANGE_PASS,label:"Change Password"}],s=[{path:l.ABS_BANNERS,label:"Banners"}],A=[...s,{path:l.ABS_BANNERS_ADD,label:"Add"}],d=[...s,{path:l.ABS_BANNERS_EDIT,label:"Edit"}],t=[...s,{path:l.ABS_BANNERS_DETAILS,label:"Details"}],u=[{path:l.ABS_NOTIFICATION,label:"Notifications"}],b=[...u,{path:l.ABS_NOTIFICATION_ADD,label:"Add"}],h=[{path:l.ABS_CMS,label:"Content Management"}],g=[...h,{path:l.ABS_TERM_CONDITIONS,label:"Terms & Conditions"}],P=[...h,{path:l.ABS_PRIVACY_POLICY,label:"Privacy Policy"}],T=[...h,{path:l.ABS_ABOUT_US,label:"About Us"}],I=[...h,{path:l.ABS_FAQ,label:"FAQ's"}],O=[{path:l.ABS_ROLES_ACCESS,label:"Roles & Access Management"}],C=[...O,{path:l.ABS_ROLES,label:"Roles"}],f=[...C,{path:l.ABS_ROLES_ADD,label:"Add"}],N=[...C,{path:l.ABS_ROLES_EDIT,label:"Edit"}],B=[...C,{path:l.ABS_ROLES_DETAILS,label:"Details"}],p=[...O,{path:l.ABS_SUB_ADMINS,label:"Sub Admins"}],D=[...p,{path:l.ABS_SUB_ADMIN_ADD,label:"Add"}],v=[...p,{path:l.ABS_SUB_ADMIN_EDIT,label:"Edit"}],w=[...p,{path:l.ABS_SUB_ADMIN_DETAILS,label:"Details"}]},86191:(E,_,o)=>{o.d(_,{m:()=>l,V:()=>c});const l={NUMBER:/^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$/,ONLY_NUMBER:/^\d+$/,ONLY_ALPHABET:/^[a-zA-Z]*$/,NAME:/^[a-z\ -]+$/i,START_WITH_ALPHABET_ENDS_WITH_DIGITS:/^[a-zA-Z]{4}[0-9]{4}$/,ALPHABET_WITH_DIGITS:/^[a-zA-Z0-9]+$/,AMOUNT:/(^[0][1-9]+)|([1-9]\d*)+$/,EMAIL:/^\w+([.-]\w+)*@\w+([.-]\w+)*\.\w{2,5}$/i,PASSWORD:/(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=.*[@#$%^&+=])(?=[^0-9]*[0-9]).{8,16}/,URL:/^(http|https):\/\/(([a-zA-Z0-9$\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\/(([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\/([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\?([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?(\#([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?)?$/},c={MAX_PASSWORD_LENGTH:16,MAX_EMAIL_LENGTH:100,MAX_MOBILE_LENGTH:10,MIN_MOBILE_LENGTH:10,MAX_NAME_LENGTH:50,MIN_NAME_LENGTH:3,MAX_TITLE_LENGTH:50,MAX_FOCUS_BODY_PART_LENGTH:20,MAX_DES_LENGTH:500,MAX_CAL_BURN_LENGTH:10,MAX_QUESTION_LENGTH:500,MAX_DISPLAY_ORDER_LENGTH:3}},34550:(E,_,o)=>{o.d(_,{i:()=>c});var l=o(37716);let c=(()=>{class r{constructor(){this.isPasteAllowed=!0}onKeyUp(s){!this.isPasteAllowed&&86===s.keyCode&&!0===s.ctrlKey&&s.preventDefault(),this.preventKeys&&this.preventKeys.includes(s.keyCode)&&s.preventDefault()}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275dir=l.lG2({type:r,selectors:[["","prevent-keys",""]],hostBindings:function(s,A){1&s&&l.NdJ("keydown",function(t){return A.onKeyUp(t)})},inputs:{preventKeys:["prevent-keys","preventKeys"],isPasteAllowed:"isPasteAllowed"}}),r})()},69528:(E,_,o)=>{o.d(_,{H:()=>r});var l=o(38583),c=o(37716);let r=(()=>{class a{}return a.\u0275fac=function(A){return new(A||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[l.ez]]}),a})()},30835:(E,_,o)=>{o.r(_),o.d(_,{AddEditSubAdminsModule:()=>x});var l=o(91017),c=o(38583),r=o(32401),a=o(11863),s=o(4863),A=o(86191),d=o(3679),t=o(37716),u=o(27632),b=o(51080),S=o(54655),R=o(8008),h=o(69763),g=o(98295),P=o(49983),T=o(34550),I=o(67441),O=o(51095),C=o(72458),f=o(25145);function N(i,m){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(null==n.errMsg?null:n.errMsg.EMAIL_REQ)}}function B(i,m){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(null==n.errMsg?null:n.errMsg.INVALID_EMAIL)}}function p(i,m){if(1&i&&(t.TgZ(0,"mat-option",16),t.ynx(1),t._uU(2),t.BQk(),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.hij(" ",n.isRoleApiCallInProgress?"Loading...":"Please add role first"," ")}}function D(i,m){if(1&i&&(t.TgZ(0,"mat-option",17),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const n=m.$implicit;t.Q6J("disabled",1==(null==n?null:n.status))("value",null==n?null:n._id),t.xp6(1),t.hij("",t.lcZ(2,3,null==n?null:n.role)," ")}}function v(i,m){if(1&i&&(t.ynx(0),t._UZ(1,"app-show-permissions",18),t.BQk()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("permissions",n.selectedRolePermission)}}const w=function(i){return{_disabled:i}},Z=function(){return[32]};let y=(()=>{class i{constructor(n,e,M,L,H,J,G){this._fb=n,this._bc=e,this._roles=M,this._actRoute=L,this._toast=H,this._common=J,this._router=G,this._limit=A.V,this.errMsg=s.Et,this.roles=[],this.isRoleApiCallInProgress=!1,this.subscriptions=[],this.selectedRolePermission=[]}ngOnInit(){this.subAdminId=this._actRoute.snapshot.params.subAdminId,this.createForm(),this.fetchCreatedRoles(),this.subAdminId?(this._bc.setBreadcrumb(a.k7),this._common.isValidId(this.subAdminId)&&this.getSubAdminDetails(this.subAdminId)):this._bc.setBreadcrumb(a.bJ)}createForm(){this.subAdminForm=this._fb.group({name:[""],email:["",[d.kI.pattern(A.m.EMAIL)]],roleId:[""]})}get f(){return this.subAdminForm.controls}fetchCreatedRoles(){this.subscriptions.push(this._roles.getRolesList({pageNo:1,limit:100,sortOrder:1,sortBy:"role"}).subscribe(e=>{this.roles=e.data.list}))}onChangeRoleSelection(n){for(let e=0;e<this.roles.length;e++)if(n==this.roles[e]._id){this.selectedRolePermission=this.roles[e].permission;break}}getSubAdminDetails(n){this._roles.getSubAdminDetail(n).subscribe(e=>{this.subAdminForm.patchValue(e.data),this.onChangeRoleSelection(e.data.roleId)})}subAdminHandler(){if(this.checkValidation(),this.subAdminForm.valid){let n=this.subAdminForm.value;this.subAdminId?this.subAdminForm.dirty?this.updateSubAdmin(n):this.cancelHandler():this.addNewSubAdmin(n)}}addNewSubAdmin(n){this._roles.addSubAdmin(n).subscribe(e=>{this.navigate(e.message)})}updateSubAdmin(n){n.adminId=this.subAdminId,delete n.email,this._roles.updateSubAdmin(n).subscribe(e=>{this.navigate(e.message)})}trimValues(){for(const n in this.subAdminForm.value)this.subAdminForm.value.hasOwnProperty(n)&&"string"==typeof this.f[n].value&&this.f[n].setValue(this.f[n].value.trim())}checkValidation(){this.trimValues()}cancelHandler(){this._common.locationBack()}navigate(n){n&&this._toast.success(n),this._router.navigate([r.b6,r.Wl])}ngOnDestroy(){this.subscriptions.length>0&&this._common.unsubscribe(this.subscriptions)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(d.qu),t.Y36(u.p),t.Y36(b.s),t.Y36(S.gz),t.Y36(R.k),t.Y36(h.v),t.Y36(S.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-edit-sub-admins"]],decls:33,vars:16,consts:[[1,"page-add-edit-banners"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-4"],["appearance","outline"],["matInput","","formControlName","name","autocomplete","off","required","",3,"maxlength"],[1,"col-4",3,"ngClass"],["matInput","","type","email","formControlName","email","autocomplete","off","required","",3,"prevent-keys","maxlength","blur"],["email",""],[4,"ngIf"],["placeholder","Select Role","formControlName","roleId","required","",3,"selectionChange"],["disabled","",4,"ngIf"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"btn-cover"],["type","button","mat-stroked-button","",1,"btn","btn-simple",3,"click"],["type","submit","mat-stroked-button","",1,"btn","btn-primary"],["disabled",""],[3,"disabled","value"],[3,"permissions"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return e.subAdminHandler()}),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"mat-form-field",4),t.TgZ(5,"mat-label"),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",5),t.TgZ(8,"mat-error"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.TgZ(11,"mat-form-field",4),t.TgZ(12,"mat-label"),t._uU(13,"Email Address"),t.qZA(),t.TgZ(14,"input",7,8),t.NdJ("blur",function(){return e.trimValues()}),t.qZA(),t.YNc(16,N,2,1,"mat-error",9),t.YNc(17,B,2,1,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(18,"div",3),t.TgZ(19,"mat-form-field",4),t.TgZ(20,"mat-label"),t._uU(21,"Select Role"),t.qZA(),t.TgZ(22,"mat-select",10),t.NdJ("selectionChange",function(L){return e.onChangeRoleSelection(L.value)}),t.YNc(23,p,3,1,"mat-option",11),t.YNc(24,D,3,5,"mat-option",12),t.qZA(),t.TgZ(25,"mat-error"),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,v,2,1,"ng-container",9),t.TgZ(28,"div",13),t.TgZ(29,"button",14),t.NdJ("click",function(){return e.cancelHandler()}),t._uU(30,"Cancel"),t.qZA(),t.TgZ(31,"button",15),t._uU(32),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("formGroup",e.subAdminForm),t.xp6(6),t.Q6J("maxlength",null==e._limit?null:e._limit.MAX_NAME_LENGTH),t.xp6(2),t.Oqu(e.errMsg.NAME_REQ),t.xp6(1),t.Q6J("ngClass",t.VKq(13,w,e.subAdminId)),t.xp6(4),t.Q6J("prevent-keys",t.DdM(15,Z))("maxlength",null==e._limit?null:e._limit.MAX_EMAIL_LENGTH),t.xp6(2),t.Q6J("ngIf",e.f.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.f.email.hasError("pattern")),t.xp6(6),t.Q6J("ngIf",!e.roles||(null==e.roles?null:e.roles.length)<=0),t.xp6(1),t.Q6J("ngForOf",e.roles),t.xp6(2),t.Oqu(e.errMsg.ROLE_REQ),t.xp6(1),t.Q6J("ngIf",e.f.roleId.value&&(null==e.selectedRolePermission?null:e.selectedRolePermission.length)>0),t.xp6(5),t.Oqu(e.subAdminId?"Update":"Save"))},directives:[d._Y,d.JL,d.sg,g.KE,g.hX,P.Nt,d.Fj,d.JJ,d.u,d.Q7,d.nD,g.TO,c.mk,T.i,c.O5,I.gD,c.sg,O.lW,C.ey,f.k],pipes:[c.rS],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px}.col-1[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{position:relative;padding-right:10px;padding-left:10px;max-width:auto!important}.col-1[_ngcontent-%COMP%]{width:calc(100% / 12)}.col-2[_ngcontent-%COMP%]{width:calc((100% / 12) * 2)}.col-3[_ngcontent-%COMP%]{width:calc((100% / 12) * 3)}.col-4[_ngcontent-%COMP%]{width:calc((100% / 12) * 4)}.col-5[_ngcontent-%COMP%]{width:calc((100% / 12) * 5)}.col-6[_ngcontent-%COMP%]{width:calc((100% / 12) * 6)}.col-7[_ngcontent-%COMP%]{width:calc((100% / 12) * 7)}.col-8[_ngcontent-%COMP%]{width:calc((100% / 12) * 8)}.col-9[_ngcontent-%COMP%]{width:calc((100% / 12) * 9)}.col-10[_ngcontent-%COMP%]{width:calc((100% / 12) * 10)}.col-11[_ngcontent-%COMP%]{width:calc((100% / 12) * 11)}.col-12[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 1200px){.col-xl-1[_ngcontent-%COMP%]{width:calc(100% / 12)}.col-xl-2[_ngcontent-%COMP%]{width:calc((100% / 12) * 2)}.col-xl-3[_ngcontent-%COMP%]{width:calc((100% / 12) * 3)}.col-xl-4[_ngcontent-%COMP%]{width:calc((100% / 12) * 4)}.col-xl-5[_ngcontent-%COMP%]{width:calc((100% / 12) * 5)}.col-xl-6[_ngcontent-%COMP%]{width:calc((100% / 12) * 6)}.col-xl-7[_ngcontent-%COMP%]{width:calc((100% / 12) * 7)}.col-xl-8[_ngcontent-%COMP%]{width:calc((100% / 12) * 8)}.col-xl-9[_ngcontent-%COMP%]{width:calc((100% / 12) * 9)}.col-xl-10[_ngcontent-%COMP%]{width:calc((100% / 12) * 10)}.col-xl-11[_ngcontent-%COMP%]{width:calc((100% / 12) * 11)}.col-xl-12[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 992px){.col-lg-1[_ngcontent-%COMP%]{width:calc(100% / 12)}.col-lg-2[_ngcontent-%COMP%]{width:calc((100% / 12) * 2)}.col-lg-3[_ngcontent-%COMP%]{width:calc((100% / 12) * 3)}.col-lg-4[_ngcontent-%COMP%]{width:calc((100% / 12) * 4)}.col-lg-5[_ngcontent-%COMP%]{width:calc((100% / 12) * 5)}.col-lg-6[_ngcontent-%COMP%]{width:calc((100% / 12) * 6)}.col-lg-7[_ngcontent-%COMP%]{width:calc((100% / 12) * 7)}.col-lg-8[_ngcontent-%COMP%]{width:calc((100% / 12) * 8)}.col-lg-9[_ngcontent-%COMP%]{width:calc((100% / 12) * 9)}.col-lg-10[_ngcontent-%COMP%]{width:calc((100% / 12) * 10)}.col-lg-11[_ngcontent-%COMP%]{width:calc((100% / 12) * 11)}.col-lg-12[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 768px){.col-md-1[_ngcontent-%COMP%]{width:calc(100% / 12)}.col-md-2[_ngcontent-%COMP%]{width:calc((100% / 12) * 2)}.col-md-3[_ngcontent-%COMP%]{width:calc((100% / 12) * 3)}.col-md-4[_ngcontent-%COMP%]{width:calc((100% / 12) * 4)}.col-md-5[_ngcontent-%COMP%]{width:calc((100% / 12) * 5)}.col-md-6[_ngcontent-%COMP%]{width:calc((100% / 12) * 6)}.col-md-7[_ngcontent-%COMP%]{width:calc((100% / 12) * 7)}.col-md-8[_ngcontent-%COMP%]{width:calc((100% / 12) * 8)}.col-md-9[_ngcontent-%COMP%]{width:calc((100% / 12) * 9)}.col-md-10[_ngcontent-%COMP%]{width:calc((100% / 12) * 10)}.col-md-11[_ngcontent-%COMP%]{width:calc((100% / 12) * 11)}.col-md-12[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 576px){.col-sm-1[_ngcontent-%COMP%]{width:calc(100% / 12)}.col-sm-2[_ngcontent-%COMP%]{width:calc((100% / 12) * 2)}.col-sm-3[_ngcontent-%COMP%]{width:calc((100% / 12) * 3)}.col-sm-4[_ngcontent-%COMP%]{width:calc((100% / 12) * 4)}.col-sm-5[_ngcontent-%COMP%]{width:calc((100% / 12) * 5)}.col-sm-6[_ngcontent-%COMP%]{width:calc((100% / 12) * 6)}.col-sm-7[_ngcontent-%COMP%]{width:calc((100% / 12) * 7)}.col-sm-8[_ngcontent-%COMP%]{width:calc((100% / 12) * 8)}.col-sm-9[_ngcontent-%COMP%]{width:calc((100% / 12) * 9)}.col-sm-10[_ngcontent-%COMP%]{width:calc((100% / 12) * 10)}.col-sm-11[_ngcontent-%COMP%]{width:calc((100% / 12) * 11)}.col-sm-12[_ngcontent-%COMP%]{width:100%}}"]}),i})();var F=o(69528);const U=[{path:"",component:y}];let x=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,S.Bz.forChild(U),l.m,d.UX,g.lN,P.c,O.ot,I.LD,F.H]]}),i})()}}]);