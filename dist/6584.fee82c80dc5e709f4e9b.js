"use strict";(self.webpackChunkweb_rcc_app=self.webpackChunkweb_rcc_app||[]).push([[6584],{56584:(E,h,s)=>{s.r(h),s.d(h,{EmployeesListingModule:()=>O});var l=s(38583),m=s(54395),c=s(70615),p=s(63563),t=s(37716),g=s(1017),u=s(91859),y=s(69763);let d=(()=>{class i extends p.t{constructor(e,n,a){super(),this._tableSer=e,this._user=n,this._common=a,this.queryObj={},this.searchValue="",this.subscripition=[],this.heading=[{heading:"NAME",key:"name"},{heading:"EMAIL",key:"email"},{heading:"CONTACT",key:"companyDetail.officeNo"},{heading:"COMPANY",key:"companyDetail.businessName"},{heading:"TRADE",key:"trade"},{heading:"DATE JOINED",key:"createdAt",align:"center",type:"date"},{heading:"ACTIONS",key:"actionEmployee",align:"center",type:"action",action:[2]}],this.setSearchSubscription()}ngOnInit(){this.getUserList()}setSearchSubscription(){this.subscripition.push(this._user._searchSubject.pipe((0,m.b)(500)).subscribe(e=>{this.searchValue=e,this.getUserList()}))}paginationWithSearch(e,n){switch(n){case 0:this.resetPages(),this.search=e,this.tableRef.paginator&&this.tableRef.paginator.firstPage();break;default:this.pageOptionsOnChange=e}this.getUserList()}getUserList(){this.queryObj=Object.assign(this.searchValue.length?Object.assign(Object.assign({},this.validPageOptions),{searchKey:this.searchValue}):Object.assign({},this.validPageOptions),{userType:"USER"}),this.getList()}getList(){this.subscripition.push(this._user.userList(this.queryObj).subscribe(e=>{this._tableSer.tableRender(e,"employee","")},()=>{this._tableSer.tableRender({data:[]},"","")}))}sortByListing(e){this.sortOptions=e,this.getList()}ngOnDestroy(){this.subscripition.length&&this._common.unsubscribe(this.subscripition)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.L),t.Y36(u.f),t.Y36(y.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-employees-listing"]],viewQuery:function(e,n){if(1&e&&t.Gf(c.H,5),2&e){let a;t.iGM(a=t.CRH())&&(n.tableRef=a.first)}},features:[t.qOj],decls:1,vars:1,consts:[[3,"heading","find","page","sortData"]],template:function(e,n){1&e&&(t.TgZ(0,"common-mat-table",0),t.NdJ("find",function(r){return n.paginationWithSearch(r,0)})("page",function(r){return n.paginationWithSearch(r,1)})("sortData",function(r){return n.sortByListing(r)}),t.qZA()),2&e&&t.Q6J("heading",n.heading)},directives:[c.H],styles:[""]}),i})();var b=s(54655),f=s(2502);const L=[{path:"",component:d}];let O=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,b.Bz.forChild(L),f.k]]}),i})()}}]);