<div class="page-change-password">
  <form [formGroup]="changePasswordForm" (ngSubmit)="changePasswordHandler()">
    <mat-form-field appearance="outline" class="passwordFormField">
      <mat-label>Old Password</mat-label>
      <input #oPass matInput formControlName="oldPassword" [type]="hide ? 'password' : 'text'"
        [maxlength]="limit?.MAX_PASSWORD_LENGTH" (input)="resetControlError(false)" (blur)="onBlur(false)" required>

      <mat-icon class="pointer" matSuffix (click)="hide = !hide">
        <img *ngIf="hide" src="assets/images/svg/eye-slash.svg" alt="Hidden">
        <img *ngIf="!hide" src="assets/images/svg/eye.svg" alt="Visible">
        <!-- {{hide ? 'visibility_off' : 'visibility'}} -->
      </mat-icon>

      <mat-error class="error-message" *ngIf="f.oldPassword.hasError('required')">{{errorMsg?.OLD_PASSWORD_REQ}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.oldPassword.hasError('pattern')">{{errorMsg?.INVALID_OLD_PASSWORD}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.oldPassword.hasError('space')">{{errorMsg?.NO_SPACE_OLD_PASSWORD}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.oldPassword.hasError('incorrect')">{{errorMsg?.WRONG_OLD_PASSWORD}}
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="passwordFormField">
      <mat-label>New Password</mat-label>
      <input #pass matInput formControlName="password" [type]="hide1 ? 'password' : 'text'"
        [maxlength]="limit?.MAX_PASSWORD_LENGTH" (input)="resetControlError()" (blur)="onBlur()" required>
      <mat-icon class="pointer" matSuffix (click)="hide1 = !hide1">
        <img *ngIf="hide1" src="assets/images/svg/eye-slash.svg" alt="Hidden">
        <img *ngIf="!hide1" src="assets/images/svg/eye.svg" alt="Visible">
        <!-- {{hide ? 'visibility_off' : 'visibility'}} -->
      </mat-icon>

      <mat-error class="error-message" *ngIf="f.password.hasError('required')">{{errorMsg?.NEW_PASSWORD_REQ}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.password.hasError('pattern')">{{errorMsg?.INVALID_NEW_PASSWORD}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.password.hasError('space')">{{errorMsg?.NO_SPACE_NEW_PASSWORD}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.password.hasError('match')">
        {{errorMsg?.OLD_NEW_PASSWORD_MATCH_ERR}}
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="passwordFormField">
      <mat-label>Confirm New Password</mat-label>
      <input #cPass matInput formControlName="confirmPassword" [type]="hide2 ? 'password' : 'text'"
        [maxlength]="limit?.MAX_PASSWORD_LENGTH" required>
      <mat-icon class="pointer" matSuffix (click)="hide2 = !hide2">
        <img *ngIf="hide2" src="assets/images/svg/eye-slash.svg" alt="Hidden">
        <img *ngIf="!hide2" src="assets/images/svg/eye.svg" alt="Visible">
        <!-- {{hide ? 'visibility_off' : 'visibility'}} -->
      </mat-icon>

      <mat-error class="error-message" *ngIf="f.confirmPassword.hasError('required')">{{errorMsg?.C_PASSWORD_REQ}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.confirmPassword.hasError('pattern')">
        {{errorMsg?.INVALID_C_PASSWORD}}</mat-error>
      <mat-error class="error-message" *ngIf="f.confirmPassword.hasError('space')">{{errorMsg?.NO_SPACE_C_PASSWORD}}
      </mat-error>
      <mat-error class="error-message" *ngIf="f.confirmPassword.hasError('notMatch')">
        {{errorMsg?.CONFORM_PASSWORD_MATCH_ERR}}</mat-error>
    </mat-form-field>
    <div class="btn-cover">
      <button class="btn btn-simple" mat-stroked-button type="button" (click)="navigateToProfile()"> Cancel </button>
      <button type="submit" class="btn btn-primary" mat-stroked-button> Submit
      </button>
    </div>
  </form>
</div>